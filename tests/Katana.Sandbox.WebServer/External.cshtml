@using System.Web
@{
    var identity = Context.Authenticate("External").Result;
    if (identity != null)
    {
        Context.SignOut("External");
        Context.SignIn("Application", identity.Claims, identity.NameClaimType, identity.RoleClaimType, true);
        Response.Redirect(Request.QueryString["redirect_uri"]);
        return;
    }    
}
<p>Your signin failed.</p>
